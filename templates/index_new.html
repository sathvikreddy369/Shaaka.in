{% extends "base.html" %}

{% block title %}Shaaka - Fresh Organic Produce from Farm to Table{% endblock %}

{% block extra_css %}
<style>
    /* Organic Theme Background */
    body {
        background: linear-gradient(180deg, #faf8f3 0%, #f5f9f0 50%, #faf8f3 100%);
        position: relative;
        overflow-x: hidden;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    /* Smooth Scroll */
    html {
        scroll-behavior: smooth;
    }
    
    /* Animated Background Pattern */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: 
            radial-gradient(circle at 20% 50%, rgba(139, 195, 74, 0.08) 0%, transparent 50%),
            radial-gradient(circle at 80% 80%, rgba(255, 193, 7, 0.08) 0%, transparent 50%),
            radial-gradient(circle at 40% 20%, rgba(76, 175, 80, 0.08) 0%, transparent 50%);
        animation: backgroundShift 30s ease-in-out infinite;
        z-index: -1;
    }
    
    @keyframes backgroundShift {
        0%, 100% { transform: translate(0, 0) scale(1); }
        50% { transform: translate(30px, 20px) scale(1.05); }
    }
    
    /* Container improvements */
    .container {
        max-width: 1200px;
        padding-left: 20px;
        padding-right: 20px;
    }
    
    /* Section spacing */
    section {
        padding: 80px 0 !important;
    }
    
    @media (max-width: 768px) {
        section {
            padding: 50px 0 !important;
        }
    }
    
    /* Parallax Effect */
    .parallax-section {
        position: relative;
        overflow: hidden;
    }
    
    .parallax-bg {
        position: absolute;
        top: -50px;
        left: 0;
        width: 100%;
        height: calc(100% + 100px);
        background-size: cover;
        background-position: center;
        transform: translateZ(0);
        will-change: transform;
    }
    
    /* Trust Badges */
    .trust-badge {
        background: white;
        padding: 25px 20px;
        border-radius: 15px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        transition: all 0.4s;
        text-align: center;
        position: relative;
        overflow: hidden;
        border: 2px solid #f0f0f0;
    }
    
    .trust-badge h4 {
        font-size: 1.1rem;
        margin-bottom: 10px;
    }
    
    .trust-badge p {
        font-size: 0.9rem;
        line-height: 1.5;
        margin-bottom: 10px;
    }
    
    .trust-badge::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        opacity: 0.15;
        transition: all 0.6s;
        z-index: 0;
        filter: brightness(1.2);
    }
    
    .trust-badge:hover::before {
        opacity: 0.25;
        transform: scale(1.05);
    }
    
    .trust-badge::after {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(76, 175, 80, 0.1), transparent);
        transition: left 0.6s;
        z-index: 0;
    }
    
    .trust-badge:hover::after {
        left: 100%;
    }
    
    .trust-badge > * {
        position: relative;
        z-index: 1;
    }
    
    /* Specific backgrounds for trust badges */
    .trust-badge:has(h4:contains("Certified Organic"))::before,
    .trust-badge:nth-of-type(1)::before {
        background-image: url('https://images.unsplash.com/photo-1625246333195-78d9c38ad449?w=600');
    }
    
    .trust-badge:nth-of-type(2)::before {
        background-image: url('https://images.unsplash.com/photo-1530836369250-ef72a3f5cda8?w=600');
    }
    
    .trust-badge:nth-of-type(3)::before {
        background-image: url('https://images.unsplash.com/photo-1464226184884-fa280b87c399?w=600');
    }
    
    .trust-badge:nth-of-type(4)::before {
        background-image: url('https://images.unsplash.com/photo-1542838132-92c53300491e?w=600');
    }
    
    .trust-badge:nth-of-type(5)::before {
        background-image: url('https://images.unsplash.com/photo-1516467508483-a7212febe31a?w=600');
    }
    
    .trust-badge:nth-of-type(6)::before {
        background-image: url('https://images.unsplash.com/photo-1500595046743-cd271d694d30?w=600');
    }
    
    .trust-badge:nth-of-type(7)::before {
        background-image: url('https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=600');
    }
    
    .trust-badge:hover {
        transform: translateY(-8px);
        box-shadow: 0 15px 40px rgba(76, 175, 80, 0.15);
        border-color: #8bc34a;
    }
    
    /* Shimmer Effect */
    @keyframes shimmer {
        0% { background-position: -1000px 0; }
        100% { background-position: 1000px 0; }
    }
    
    .shimmer {
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
        background-size: 1000px 100%;
        animation: shimmer 3s infinite;
    }
    
    /* Section Dividers */
    section {
        position: relative;
        transition: all 0.3s ease;
    }
    
    section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 4px;
        background: linear-gradient(90deg, transparent, #8bc34a, transparent);
        border-radius: 2px;
    }
    
    /* Section Headings */
    section h2 {
        position: relative;
        display: inline-block;
        padding-bottom: 15px;
    }
    
    section h2::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 60px;
        height: 3px;
        background: linear-gradient(90deg, #8bc34a, #4caf50);
        border-radius: 2px;
    }
    
    .text-center h2 {
        margin-bottom: 30px;
    }
    
    .text-muted {
        color: #666 !important;
        font-size: 1.1rem;
    }
    
    /* Crop Image Backgrounds */
    .crop-bg-section {
        position: relative;
        overflow: hidden;
    }
    
    .crop-bg-section::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        opacity: 0.15;
        animation: floatBackground 30s ease-in-out infinite;
        z-index: 0;
        pointer-events: none;
        filter: brightness(1.1);
    }
    
    .crop-bg-section.features-bg::after {
        background-image: 
            linear-gradient(rgba(255,255,255,0.7), rgba(255,255,255,0.7)),
            url('https://images.unsplash.com/photo-1464226184884-fa280b87c399?w=1200');
    }
    
    .crop-bg-section.trust-bg::after {
        background-image: 
            linear-gradient(rgba(248,253,249,0.3), rgba(232,245,233,0.3)),
            url('https://images.unsplash.com/photo-1542838132-92c53300491e?w=1200');
        opacity: 0.25;
    }
    
    .crop-bg-section.testimonials-bg::after {
        background-image: 
            linear-gradient(rgba(250,248,243,0.7), rgba(250,248,243,0.7)),
            url('https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=1200');
    }
    
    .crop-bg-section.join-bg::after {
        background-image: 
            linear-gradient(rgba(255,248,225,0.6), rgba(255,236,179,0.6)),
            url('https://images.unsplash.com/photo-1595855759920-86582396756a?w=1200');
    }
    
    .crop-bg-section.how-it-works-bg::after {
        background-image: 
            linear-gradient(rgba(255,255,255,0.75), rgba(255,255,255,0.75)),
            url('https://images.unsplash.com/photo-1500937386664-56d1dfef3854?w=1200');
    }
    
    .crop-bg-section .container {
        position: relative;
        z-index: 1;
    }
    
    @keyframes floatBackground {
        0%, 100% { transform: scale(1) translateY(0); }
        50% { transform: scale(1.08) translateY(-15px); }
    }
    
    /* Floating Crop Icons */
    .floating-crops {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: 0;
        pointer-events: none;
    }
    
    .floating-crop {
        position: absolute;
        font-size: 3rem;
        opacity: 0.08;
        animation: float 25s ease-in-out infinite;
    }
    
    @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        25% { transform: translateY(-40px) rotate(8deg); }
        50% { transform: translateY(-80px) rotate(-8deg); }
        75% { transform: translateY(-40px) rotate(8deg); }
    }
    
    .floating-crop:nth-child(1) { top: 10%; left: 5%; animation-delay: 0s; color: #8bc34a; }
    .floating-crop:nth-child(2) { top: 20%; right: 10%; animation-delay: 3s; color: #ff9800; }
    .floating-crop:nth-child(3) { bottom: 15%; left: 15%; animation-delay: 6s; color: #4caf50; }
    .floating-crop:nth-child(4) { bottom: 25%; right: 5%; animation-delay: 9s; color: #ffc107; }
    .floating-crop:nth-child(5) { top: 50%; left: 8%; animation-delay: 12s; color: #66bb6a; }
    .floating-crop:nth-child(6) { top: 60%; right: 12%; animation-delay: 15s; color: #ffb74d; }
    
    /* Organic Patterns */
    .organic-pattern {
        position: relative;
        overflow: hidden;
    }
    
    .organic-pattern::after {
        content: '';
        position: absolute;
        top: -50%;
        right: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(139, 195, 74, 0.03) 1px, transparent 1px);
        background-size: 30px 30px;
        animation: patternMove 60s linear infinite;
    }
    
    @keyframes patternMove {
        0% { transform: translate(0, 0); }
        100% { transform: translate(30px, 30px); }
    }
    
    /* Smooth Fade In */
    .fade-in-section {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.8s ease, transform 0.8s ease;
    }
    
    .fade-in-section.visible {
        opacity: 1;
        transform: translateY(0);
    }
    
    /* Floating Leaves Animation */
    .floating-leaves {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 0;
        overflow: hidden;
    }
    
    .leaf {
        position: absolute;
        font-size: 2rem;
        opacity: 0.3;
        animation: floatLeaf 15s infinite;
    }
    
    .leaf:nth-child(1) { left: 10%; animation-delay: 0s; animation-duration: 12s; }
    .leaf:nth-child(2) { left: 20%; animation-delay: 2s; animation-duration: 15s; }
    .leaf:nth-child(3) { left: 30%; animation-delay: 4s; animation-duration: 18s; }
    .leaf:nth-child(4) { left: 40%; animation-delay: 1s; animation-duration: 14s; }
    .leaf:nth-child(5) { left: 50%; animation-delay: 3s; animation-duration: 16s; }
    .leaf:nth-child(6) { left: 60%; animation-delay: 5s; animation-duration: 13s; }
    .leaf:nth-child(7) { left: 70%; animation-delay: 2.5s; animation-duration: 17s; }
    .leaf:nth-child(8) { left: 80%; animation-delay: 4.5s; animation-duration: 19s; }
    .leaf:nth-child(9) { left: 90%; animation-delay: 1.5s; animation-duration: 11s; }
    
    @keyframes floatLeaf {
        0% {
            transform: translateY(-100px) rotate(0deg);
            opacity: 0;
        }
        10% {
            opacity: 0.3;
        }
        90% {
            opacity: 0.3;
        }
        100% {
            transform: translateY(100vh) rotate(360deg);
            opacity: 0;
        }
    }
    
    /* Hero Carousel Styles */
    .hero-carousel {
        position: relative;
        height: 600px;
        overflow: hidden;
        box-shadow: 0 15px 50px rgba(0,0,0,0.2);
        border-radius: 0 0 40px 40px;
        margin-bottom: 80px;
    }
    
    .carousel-item {
        height: 600px;
        background-size: cover;
        background-position: center;
        position: relative;
    }
    
    .carousel-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.5) 100%);
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .carousel-content {
        text-align: center;
        color: white;
        z-index: 2;
        animation: fadeInUp 1s ease-out;
        max-width: 800px;
        padding: 0 20px;
    }
    
    .carousel-content h1 {
        font-size: 3.5rem;
        font-weight: 800;
        line-height: 1.2;
        margin-bottom: 20px;
        text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
        font-weight: 800;
        margin-bottom: 15px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        animation: slideInDown 0.8s ease-out;
    }
    
    .carousel-content p {
        font-size: 1.2rem;
        margin-bottom: 25px;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
        animation: fadeIn 1.2s ease-out;
    }
    
    .carousel-badge {
        display: inline-block;
        background: rgba(255,255,255,0.2);
        padding: 8px 20px;
        border-radius: 50px;
        margin: 5px;
        backdrop-filter: blur(10px);
        animation: pulse 2s infinite;
    }
    
    /* Animations */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes slideInDown {
        from {
            opacity: 0;
            transform: translateY(-50px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }
    
    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
    }
    
    @keyframes slideInLeft {
        from {
            opacity: 0;
            transform: translateX(-50px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    
    @keyframes slideInRight {
        from {
            opacity: 0;
            transform: translateX(50px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    
    /* Feature Cards with Enhanced Hover */
    .feature-card {
        background: white;
        border-radius: 20px;
        padding: 30px 25px;
        text-align: center;
        box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        height: 100%;
        position: relative;
        overflow: hidden;
        border: 2px solid #f0f0f0;
    }
    
    /* Background images for feature cards */
    .feature-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        opacity: 0.12;
        transition: all 0.6s;
        z-index: 0;
        filter: brightness(1.1);
    }
    
    .feature-card:nth-child(1)::before {
        background-image: url('https://images.unsplash.com/photo-1625246333195-78d9c38ad449?w=800');
    }
    
    .feature-card:nth-child(2)::before {
        background-image: url('https://images.unsplash.com/photo-1500937386664-56d1dfef3854?w=800');
    }
    
    .feature-card:nth-child(3)::before {
        background-image: url('https://images.unsplash.com/photo-1500595046743-cd271d694d30?w=800');
    }
    
    .feature-card:nth-child(4)::before {
        background-image: url('https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=800');
    }
    
    .feature-card:nth-child(5)::before {
        background-image: url('https://images.unsplash.com/photo-1560493676-04071c5f467b?w=800');
    }
    
    .feature-card:nth-child(6)::before {
        background-image: url('https://images.unsplash.com/photo-1516467508483-a7212febe31a?w=800');
    }
    
    .feature-card:hover::before {
        opacity: 0.18;
        transform: scale(1.1);
    }
    
    .feature-card::after {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(139, 195, 74, 0.15), transparent);
        transition: left 0.6s;
        z-index: 0;
    }
    
    .feature-card:hover::after {
        left: 100%;
    }
    
    .feature-card > * {
        position: relative;
        z-index: 1;
    }
    
    .feature-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 40px rgba(76, 175, 80, 0.2);
        border-color: #8bc34a;
    }
    
    .feature-icon {
        font-size: 3rem;
        color: #28a745;
        margin-bottom: 15px;
        transition: all 0.3s;
        animation: float 3s ease-in-out infinite;
    }
    
    .feature-card:hover .feature-icon {
        transform: scale(1.15) rotate(5deg);
        color: #218838;
    }
    
    .feature-card h4 {
        color: #2d5016;
        margin-bottom: 12px;
        font-weight: 700;
        font-size: 1.2rem;
        transition: color 0.3s;
    }
    
    .feature-card:hover h4 {
        color: #28a745;
    }
    
    .feature-card p {
        color: #666;
        font-size: 0.95rem;
        line-height: 1.6;
    }
    
    /* Decorative crop elements on cards */
    .feature-card .crop-decoration {
        position: absolute;
        font-size: 4rem;
        opacity: 0.05;
        transition: all 0.5s;
        pointer-events: none;
    }
    
    .feature-card .crop-decoration.top-right {
        top: -10px;
        right: -10px;
        transform: rotate(15deg);
    }
    
    .feature-card .crop-decoration.bottom-left {
        bottom: -10px;
        left: -10px;
        transform: rotate(-15deg);
    }
    
    .feature-card:hover .crop-decoration {
        opacity: 0.12;
        transform: rotate(0deg) scale(1.1);
    }
    
    /* Pulse animation for icons */
    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }
    
    .feature-icon {
        animation: pulse 3s ease-in-out infinite;
    }
    
    /* Shimmer effect on hover */
    @keyframes shimmer {
        0% { background-position: -1000px 0; }
        100% { background-position: 1000px 0; }
    }
    
    .trust-badge:hover {
        animation: shimmer 2s infinite;
        background-image: linear-gradient(
            90deg,
            rgba(255, 255, 255, 0) 0%,
            rgba(255, 255, 255, 0.8) 50%,
            rgba(255, 255, 255, 0) 100%
        );
        background-size: 1000px 100%;
    }
    
    /* Product Grid */
    .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 30px;
        margin-bottom: 40px;
    }
    
    /* Product Showcase Carousel */
    .product-showcase {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        padding: 80px 0;
        position: relative;
        overflow: hidden;
    }
    
    .product-card {
        background: white;
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        transition: all 0.4s;
        animation: fadeInUp 0.6s ease-out backwards;
    }
    
    .product-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 50px rgba(0,0,0,0.15);
    }
    
    .product-image {
        height: 250px;
        background-size: cover;
        background-position: center;
        position: relative;
        overflow: hidden;
    }
    
    .product-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.4s;
    }
    
    .product-card:hover .product-image img {
        transform: scale(1.1);
    }
    
    .product-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        background: #28a745;
        color: white;
        padding: 8px 15px;
        border-radius: 50px;
        font-weight: 600;
        font-size: 0.85rem;
        animation: pulse 2s infinite;
        z-index: 1;
    }
    
    .product-badge.discount {
        background: #ff6b35;
        left: 15px;
        right: auto;
    }
    
    .product-info {
        padding: 25px;
    }
    
    .product-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: #2d5016;
        margin-bottom: 10px;
    }
    
    .product-type {
        display: inline-block;
        background: #e8f5e9;
        color: #2d5016;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        margin-bottom: 10px;
    }
    
    .product-farmer {
        color: #666;
        font-size: 0.9rem;
        margin-bottom: 10px;
    }
    
    .product-price {
        font-size: 1.8rem;
        color: #28a745;
        font-weight: 700;
    }
    
    .product-old-price {
        text-decoration: line-through;
        color: #999;
        font-size: 1.2rem;
        margin-left: 10px;
    }
    
    .product-rating {
        color: #ffc107;
        margin-bottom: 15px;
    }
    
    .product-actions {
        display: flex;
        gap: 10px;
        align-items: center;
        margin-top: 15px;
    }
    
    .qty-selector {
        display: flex;
        align-items: center;
        border: 2px solid #e8f5e9;
        border-radius: 25px;
        overflow: hidden;
    }
    
    .qty-selector button {
        background: white;
        border: none;
        padding: 8px 15px;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .qty-selector button:hover {
        background: #e8f5e9;
    }
    
    .qty-selector input {
        border: none;
        width: 50px;
        text-align: center;
        font-weight: 600;
    }
    
    .btn-add-to-cart {
        flex: 1;
        background: linear-gradient(135deg, #4a7c2c, #2d5016);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 25px;
        font-weight: 600;
        transition: all 0.3s;
    }
    
    .btn-add-to-cart:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(45, 80, 22, 0.3);
    }
    
    @media (max-width: 768px) {
        .product-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .product-image {
            height: 180px;
        }
        
        .product-info {
            padding: 15px;
        }
        
        .product-title {
            font-size: 1rem;
        }
        
        .product-price {
            font-size: 1.3rem;
        }
    }
    
    /* Stats Section with Counter Animation */
    .stats-section {
        background: 
            linear-gradient(135deg, rgba(40, 167, 69, 0.92) 0%, rgba(33, 136, 56, 0.92) 100%),
            url('https://images.unsplash.com/photo-1625246333195-78d9c38ad449?w=1600') center/cover;
        background-attachment: fixed;
        color: white;
        padding: 80px 0;
        position: relative;
        overflow: hidden;
    }
    
    .stats-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('https://images.unsplash.com/photo-1625246333195-78d9c38ad449?w=1600') center/cover;
        opacity: 0.15;
        animation: slowZoomStats 30s ease-in-out infinite alternate;
        z-index: 0;
    }
    
    @keyframes slowZoomStats {
        0% { transform: scale(1); }
        100% { transform: scale(1.1); }
    }
    
    @keyframes moveBackground {
        0% { transform: translate(0, 0); }
        100% { transform: translate(50px, 50px); }
    }
    
    .stat-item {
        text-align: center;
        position: relative;
        z-index: 1;
    }
    
    .stat-number {
        font-size: 3.5rem;
        font-weight: 800;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }
    
    .stat-label {
        font-size: 1.2rem;
        opacity: 0.95;
        font-weight: 500;
    }
    
    /* Testimonial Cards */
    .testimonial-card {
        background: white;
        border-radius: 20px;
        padding: 35px 30px;
        text-align: left;
        box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        height: 100%;
        position: relative;
        border: 2px solid #f0f0f0;
        overflow: hidden;
    }
    
    /* Background images for testimonial cards */
    .testimonial-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        opacity: 0.1;
        transition: all 0.6s;
        z-index: 0;
        filter: brightness(1.15);
    }
    
    .testimonial-card:nth-child(1)::before {
        background-image: url('https://images.unsplash.com/photo-1574943320219-553eb213f72d?w=800');
    }
    
    .testimonial-card:nth-child(2)::before {
        background-image: url('https://images.unsplash.com/photo-1560493676-04071c5f467b?w=800');
    }
    
    .testimonial-card:nth-child(3)::before {
        background-image: url('https://images.unsplash.com/photo-1500595046743-cd271d694d30?w=800');
    }
    
    .testimonial-card:hover::before {
        opacity: 0.18;
        transform: scale(1.05);
    }
    
    .testimonial-card::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(90deg, #8bc34a, #4caf50);
        transform: scaleX(0);
        transition: transform 0.4s;
    }
    
    .testimonial-card:hover::after {
        transform: scaleX(1);
    }
    
    .testimonial-card p {
        font-size: 1rem;
        line-height: 1.8;
        color: #555;
        margin-bottom: 20px;
        position: relative;
        z-index: 1;
    }
    
    .testimonial-card strong {
        color: #2d5016;
        font-weight: 600;
        position: relative;
        z-index: 1;
    }
    
    /* Quote mark decoration */
    .testimonial-card .testimonial-stars::before {
        content: '"';
        position: absolute;
        top: -10px;
        right: 20px;
        font-size: 6rem;
        color: rgba(139, 195, 74, 0.08);
        font-family: Georgia, serif;
        line-height: 1;
        z-index: 0;
    }
    
    .testimonial-card::before {
        content: '"';
        position: absolute;
        top: 15px;
        right: 25px;
        font-size: 6rem;
        color: rgba(139, 195, 74, 0.08);
        font-family: Georgia, serif;
        line-height: 1;
    }
    
    .testimonial-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 50px rgba(40, 167, 69, 0.15);
        border-color: #8bc34a;
    }
    
    .testimonial-stars {
        margin-bottom: 20px;
        display: flex;
        gap: 3px;
    }
    
    .testimonial-stars i {
        font-size: 1.2rem;
        animation: starTwinkle 2s ease-in-out infinite;
    }
    
    .testimonial-stars i:nth-child(1) { animation-delay: 0s; }
    .testimonial-stars i:nth-child(2) { animation-delay: 0.2s; }
    .testimonial-stars i:nth-child(3) { animation-delay: 0.4s; }
    .testimonial-stars i:nth-child(4) { animation-delay: 0.6s; }
    .testimonial-stars i:nth-child(5) { animation-delay: 0.8s; }
    
    @keyframes starTwinkle {
        0%, 100% { transform: scale(1); opacity: 1; }
        50% { transform: scale(1.2); opacity: 0.8; }
    }
    
    /* Scroll to Top Button */
    .scroll-to-top {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, #8bc34a, #4caf50);
        color: white;
        border: none;
        border-radius: 50%;
        font-size: 1.5rem;
        cursor: pointer;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s;
        z-index: 1000;
        box-shadow: 0 5px 20px rgba(76, 175, 80, 0.4);
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .scroll-to-top.show {
        opacity: 1;
        visibility: visible;
    }
    
    .scroll-to-top:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 30px rgba(76, 175, 80, 0.6);
    }
    
    /* Smooth animations for scroll */
    .scroll-animate {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.6s ease-out;
    }
    
    .scroll-animate.visible {
        opacity: 1;
        transform: translateY(0);
    }
    
    .testimonial-stars i:nth-child(1) { animation-delay: 0s; }
    .testimonial-stars i:nth-child(2) { animation-delay: 0.1s; }
    .testimonial-stars i:nth-child(3) { animation-delay: 0.2s; }
    .testimonial-stars i:nth-child(4) { animation-delay: 0.3s; }
    .testimonial-stars i:nth-child(5) { animation-delay: 0.4s; }
    
    @keyframes starTwinkle {
        0%, 100% { opacity: 1; transform: scale(1); }
        50% { opacity: 0.7; transform: scale(0.9); }
    }
    
    /* Role Cards */
    .role-card {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        transition: all 0.4s;
        height: 100%;
        position: relative;
        border: 2px solid #f0f0f0;
    }
    
    .role-card::before {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 60%;
        background-size: cover;
        background-position: center bottom;
        opacity: 0.12;
        transition: all 0.6s;
        z-index: 0;
        filter: brightness(1.2);
    }
    
    .role-card:nth-child(1)::before {
        background-image: url('https://images.unsplash.com/photo-1488459716781-31db52582fe9?w=800');
    }
    
    .role-card:nth-child(2)::before {
        background-image: url('https://images.unsplash.com/photo-1625246333195-78d9c38ad449?w=800');
    }
    
    .role-card:nth-child(3)::before {
        background-image: url('https://images.unsplash.com/photo-1556910103-1c02745aae4d?w=800');
    }
    
    .role-card:hover::before {
        opacity: 0.2;
        transform: scale(1.05);
    }
    
    .role-card::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(40, 167, 69, 0.05), rgba(33, 136, 56, 0.05));
        opacity: 0;
        transition: opacity 0.4s;
        z-index: 0;
    }
    
    .role-card:hover::after {
        opacity: 1;
    }
    
    .role-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        border-color: #8bc34a;
    }
    
    .role-image {
        height: 200px;
        object-fit: cover;
        width: 100%;
        transition: transform 0.4s;
    }
    
    .role-card:hover .role-image {
        transform: scale(1.08);
    }
    
    .role-body {
        padding: 25px;
        position: relative;
        z-index: 1;
    }
    
    .role-body h4 {
        font-size: 1.3rem;
        margin-bottom: 10px;
    }
    
    .role-body p {
        font-size: 0.95rem;
        line-height: 1.5;
        margin-bottom: 15px;
    }
    
    .role-body .btn {
        transition: all 0.3s;
    }
    
    .role-body .btn:hover {
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    /* How It Works Section */
    .how-it-works-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #28a745, #218838);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 15px;
        box-shadow: 0 5px 20px rgba(40, 167, 69, 0.25);
        transition: all 0.4s;
    }
    
    .how-it-works-icon:hover {
        transform: rotate(360deg) scale(1.1);
        box-shadow: 0 10px 30px rgba(40, 167, 69, 0.35);
    }
    
    .how-it-works-icon i {
        font-size: 2.5rem;
        color: white;
    }
    
    .how-it-works-step h5 {
        font-size: 1.1rem;
        margin-bottom: 8px;
    }
    
    .how-it-works-step p {
        font-size: 0.9rem;
    }
    
    /* Scroll Animations */
    .scroll-animate {
        opacity: 0;
        transform: translateY(50px);
        transition: all 0.8s ease-out;
    }
    
    .scroll-animate.active {
        opacity: 1;
        transform: translateY(0);
    }
    
    /* Buttons */
    .btn-custom {
        padding: 15px 40px;
        font-size: 1.1rem;
        font-weight: 600;
        border-radius: 50px;
        transition: all 0.3s;
        position: relative;
        overflow: hidden;
    }
    
    .btn-custom::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255,255,255,0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
    }
    
    .btn-custom:hover::before {
        width: 300px;
        height: 300px;
    }
    
    /* Responsive */
    @media (max-width: 992px) {
        .container {
            padding-left: 15px;
            padding-right: 15px;
        }
        
        .carousel-content h1 {
            font-size: 2.5rem;
        }
        
        .floating-crop {
            font-size: 2.5rem;
        }
    }
    
    @media (max-width: 768px) {
        .hero-carousel {
            height: 450px;
            border-radius: 0 0 25px 25px;
            margin-bottom: 50px;
        }
        
        .carousel-item {
            height: 450px;
        }
        
        .carousel-content {
            padding: 0 15px;
        }
        
        .carousel-content h1 {
            font-size: 2rem;
            margin-bottom: 15px;
        }
        
        .carousel-content p {
            font-size: 0.95rem;
            margin-bottom: 20px;
        }
        
        .carousel-badge {
            padding: 6px 12px;
            font-size: 0.75rem;
            margin: 3px;
        }
        
        .btn-custom {
            padding: 12px 30px;
            font-size: 0.95rem;
        }
        
        .stat-number {
            font-size: 2rem;
        }
        
        .stat-label {
            font-size: 0.9rem;
        }
        
        .feature-card {
            padding: 25px 20px;
            margin-bottom: 20px;
        }
        
        .trust-badge {
            padding: 20px 15px;
            margin-bottom: 20px;
        }
        
        .floating-crop {
            font-size: 2rem;
        }
        
        h2 {
            font-size: 1.8rem !important;
        }
        
        .row.g-4 {
            gap: 1rem !important;
        }
        
        .feature-icon {
            font-size: 2.5rem;
        }
        
        .feature-card h4 {
            font-size: 1.1rem;
        }
        
        .feature-card p {
            font-size: 0.9rem;
        }
        
        section {
            padding: 30px 0 !important;
        }
        
        .container {
            padding-left: 15px;
            padding-right: 15px;
        }
        
        h2 {
            font-size: 1.8rem !important;
        }
        
        .product-grid {
            gap: 15px;
        }
    }
    
    @media (max-width: 480px) {
        .hero-carousel {
            height: 350px;
        }
        
        .carousel-item {
            height: 350px;
        }
        
        .carousel-content h1 {
            font-size: 1.6rem;
        }
        
        .carousel-content p {
            font-size: 0.9rem;
        }
        
        h2 {
            font-size: 1.5rem !important;
        }
        
        .feature-card {
            padding: 20px 15px;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Floating Leaves Background -->
<div class="floating-leaves">
    <div class="leaf">üçÉ</div>
    <div class="leaf">üåø</div>
    <div class="leaf">üçÇ</div>
    <div class="leaf">üåæ</div>
    <div class="leaf">üçÉ</div>
    <div class="leaf">üåø</div>
    <div class="leaf">üçÇ</div>
    <div class="leaf">üåæ</div>
    <div class="leaf">üçÉ</div>
</div>

<!-- Hero Carousel -->
<div id="heroCarousel" class="carousel slide hero-carousel" data-bs-ride="carousel" data-bs-interval="5000">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2"></button>
    </div>
    
    <div class="carousel-inner">
        <!-- Slide 1 -->
        <div class="carousel-item active" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1488459716781-31db52582fe9?w=1920');">
            <div class="carousel-overlay">
                <div class="container">
                    <div class="carousel-content">
                        <h1>üåæ Fresh Organic Produce</h1>
                        <p class="lead">Direct from Local Farmers to Your Table</p>
                        <div class="mb-4">
                            <span class="carousel-badge">üå± 100% Organic</span>
                            <span class="carousel-badge">üö´ Pesticide-Free</span>
                            <span class="carousel-badge">‚ö° Same Day Delivery</span>
                        </div>
                        {% if not (session.get('customer_id') or session.get('employee_id') or current_user.is_authenticated or session.get('admin_id')) %}
                        <div class="d-flex gap-3 justify-content-center flex-wrap">
                            <a href="{{ url_for('customer_register') }}" class="btn btn-light btn-custom btn-lg">
                                <i class="bi bi-person-plus"></i> Get Started Free
                            </a>
                            <a href="{{ url_for('customer_login') }}" class="btn btn-outline-light btn-custom btn-lg">
                                <i class="bi bi-box-arrow-in-right"></i> Login
                            </a>
                        </div>
                        {% else %}
                            {% if session.get('customer_id') %}
                            <div class="d-flex gap-3 justify-content-center flex-wrap">
                                <a href="{{ url_for('customer_dashboard') }}" class="btn btn-light btn-custom btn-lg">
                                    <i class="bi bi-grid"></i> Go to Dashboard
                                </a>
                                <a href="{{ url_for('customer_dashboard') }}" class="btn btn-outline-light btn-custom btn-lg">
                                    <i class="bi bi-shop"></i> Shop Now
                                </a>
                            </div>
                            {% elif current_user.is_authenticated %}
                            <div class="d-flex gap-3 justify-content-center flex-wrap">
                                <a href="{{ url_for('farmer_dashboard') }}" class="btn btn-light btn-custom btn-lg">
                                    <i class="bi bi-grid"></i> Farmer Dashboard
                                </a>
                                <a href="{{ url_for('farmer_analytics') }}" class="btn btn-outline-light btn-custom btn-lg">
                                    <i class="bi bi-graph-up"></i> View Analytics
                                </a>
                            </div>
                            {% elif session.get('employee_id') %}
                            <div class="d-flex gap-3 justify-content-center flex-wrap">
                                <a href="{{ url_for('employee_dashboard') }}" class="btn btn-light btn-custom btn-lg">
                                    <i class="bi bi-house-heart"></i> Homemaker Dashboard
                                </a>
                                <a href="{{ url_for('upload_food') }}" class="btn btn-outline-light btn-custom btn-lg">
                                    <i class="bi bi-upload"></i> Upload Food
                                </a>
                            </div>
                            {% elif session.get('admin_id') %}
                            <div class="d-flex gap-3 justify-content-center flex-wrap">
                                <a href="{{ url_for('admin_dashboard') }}" class="btn btn-light btn-custom btn-lg">
                                    <i class="bi bi-speedometer2"></i> Admin Dashboard
                                </a>
                                <a href="{{ url_for('admin_products') }}" class="btn btn-outline-light btn-custom btn-lg">
                                    <i class="bi bi-box-seam"></i> Manage Products
                                </a>
                            </div>
                            {% endif %}
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Slide 2 -->
        <div class="carousel-item" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1542838132-92c53300491e?w=1920');">
            <div class="carousel-overlay">
                <div class="container">
                    <div class="carousel-content">
                        <h1>ü•¨ Farm Fresh Vegetables</h1>
                        <p class="lead">Harvested Today, Delivered Today</p>
                        <div class="mb-4">
                            <span class="carousel-badge">üåø Chemical-Free</span>
                            <span class="carousel-badge">üíö Locally Sourced</span>
                            <span class="carousel-badge">‚ú® Premium Quality</span>
                        </div>
                        {% if not (session.get('customer_id') or session.get('employee_id') or current_user.is_authenticated or session.get('admin_id')) %}
                        <a href="{{ url_for('customer_register') }}" class="btn btn-light btn-custom btn-lg">
                            <i class="bi bi-cart-plus"></i> Start Shopping
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Slide 3 -->
        <div class="carousel-item" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1464226184884-fa280b87c399?w=1920');">
            <div class="carousel-overlay">
                <div class="container">
                    <div class="carousel-content">
                        <h1>üë®‚Äçüåæ Support Local Farmers</h1>
                        <p class="lead">Fair Prices ‚Ä¢ No Middlemen ‚Ä¢ Direct Connection</p>
                        <div class="mb-4">
                            <span class="carousel-badge">ü§ù Fair Trade</span>
                            <span class="carousel-badge">üåç Sustainable</span>
                            <span class="carousel-badge">‚ù§Ô∏è Community</span>
                        </div>
                        {% if not (session.get('customer_id') or session.get('employee_id') or current_user.is_authenticated or session.get('admin_id')) %}
                        <a href="{{ url_for('about') }}" class="btn btn-light btn-custom btn-lg">
                            <i class="bi bi-info-circle"></i> Learn More
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

<!-- Features Section -->
<section class="py-4 crop-bg-section features-bg">
    <div class="floating-crops">
        <div class="floating-crop">ü•ï</div>
        <div class="floating-crop">üåΩ</div>
        <div class="floating-crop">üçÖ</div>
        <div class="floating-crop">ü•¨</div>
        <div class="floating-crop">ü•î</div>
        <div class="floating-crop">ü´ë</div>
    </div>
    <div class="container">
        <div class="text-center mb-4 scroll-animate">
            <h2 class="mb-2" style="color: #2d5016; font-weight: 800;">Why Choose Shaaka?</h2>
            <p class="text-muted">Fresh, Organic, and Delivered with Care</p>
        </div>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="feature-card">
                    <span class="crop-decoration top-right">üåø</span>
                    <i class="bi bi-award feature-icon"></i>
                    <h4>100% Certified Organic</h4>
                    <p>All produce is certified organic, grown without harmful pesticides or chemicals. Safe for your family.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <span class="crop-decoration top-right">üåæ</span>
                    <i class="bi bi-people-fill feature-icon"></i>
                    <h4>Direct from Farmers</h4>
                    <p>No middlemen! Connect directly with local farmers and get the freshest produce at fair prices.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <span class="crop-decoration top-right">‚ù§Ô∏è</span>
                    <i class="bi bi-heart-fill feature-icon"></i>
                    <h4>Supporting Local</h4>
                    <p>Every purchase supports local farmers and homemakers, strengthening our community.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <span class="crop-decoration top-right">üöö</span>
                    <i class="bi bi-truck feature-icon"></i>
                    <h4>Same Day Delivery</h4>
                    <p>Fresh produce delivered within hours of harvest. Maximum freshness guaranteed.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <span class="crop-decoration top-right">‚úì</span>
                    <i class="bi bi-shield-check feature-icon"></i>
                    <h4>Quality Verified</h4>
                    <p>Every farmer and product is verified by our team. Quality and authenticity guaranteed.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <span class="crop-decoration top-right">üí∞</span>
                    <i class="bi bi-cash-coin feature-icon"></i>
                    <h4>Fair Pricing</h4>
                    <p>No hidden costs. Transparent pricing that's fair to both farmers and customers.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Trust Section -->
<section class="py-4 crop-bg-section trust-bg" style="background: linear-gradient(135deg, #f8fdf9 0%, #e8f5e9 100%);">
    <div class="floating-crops">
        <div class="floating-crop">üåæ</div>
        <div class="floating-crop">ü•í</div>
        <div class="floating-crop">üçÜ</div>
        <div class="floating-crop">üå∂Ô∏è</div>
        <div class="floating-crop">ü•¶</div>
        <div class="floating-crop">üßÖ</div>
    </div>
    <div class="container">
        <div class="text-center mb-4 scroll-animate">
            <h2 class="mb-2" style="color: #2d5016; font-weight: 800;">üå± Trusted by Thousands</h2>
            <p class="text-muted">Quality You Can Trust, Every Single Time</p>
        </div>
        <div class="row g-4">
            <div class="col-md-3 text-center scroll-animate">
                <div class="trust-badge">
                    <i class="bi bi-patch-check-fill feature-icon text-success"></i>
                    <h4>Certified Organic</h4>
                    <p>All our farmers follow organic farming practices certified by agricultural authorities.</p>
                    <div class="mt-3">
                        <span class="badge bg-success">100% Verified</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 text-center scroll-animate">
                <div class="trust-badge">
                    <i class="bi bi-droplet-fill feature-icon text-primary"></i>
                    <h4>Pesticide Free</h4>
                    <p>Zero harmful chemicals. Our produce is tested and guaranteed to be pesticide-free.</p>
                    <div class="mt-3">
                        <span class="badge bg-primary">Lab Tested</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 text-center scroll-animate">
                <div class="trust-badge">
                    <i class="bi bi-geo-alt-fill feature-icon text-warning"></i>
                    <h4>Local Sourcing</h4>
                    <p>All produce sourced within 50km radius, ensuring freshness and supporting local economy.</p>
                    <div class="mt-3">
                        <span class="badge bg-warning text-dark">50km Radius</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 text-center scroll-animate">
                <div class="trust-badge">
                    <i class="bi bi-clock-fill feature-icon text-info"></i>
                    <h4>Farm to Table</h4>
                    <p>From harvest to your table in less than 24 hours. Maximum nutrition and freshness.</p>
                    <div class="mt-3">
                        <span class="badge bg-info text-dark">24 Hours</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Additional Trust Indicators -->
        <div class="row mt-5 g-4">
            <div class="col-md-4 text-center scroll-animate">
                <div class="trust-badge">
                    <i class="bi bi-shield-check feature-icon text-success"></i>
                    <h4>Secure Payments</h4>
                    <p>Your transactions are protected with bank-level encryption and security.</p>
                </div>
            </div>
            <div class="col-md-4 text-center scroll-animate">
                <div class="trust-badge">
                    <i class="bi bi-arrow-repeat feature-icon text-primary"></i>
                    <h4>Easy Returns</h4>
                    <p>Not satisfied? Get instant refunds for damaged or incorrect items within 24 hours.</p>
                </div>
            </div>
            <div class="col-md-4 text-center scroll-animate">
                <div class="trust-badge">
                    <i class="bi bi-headset feature-icon text-warning"></i>
                    <h4>24/7 Support</h4>
                    <p>Our customer support team is always ready to help you with any queries.</p>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Testimonials Section -->
<section class="py-4 crop-bg-section testimonials-bg" style="background: #faf8f3;">
    <div class="floating-crops">
        <div class="floating-crop">üçì</div>
        <div class="floating-crop">ü•ï</div>
        <div class="floating-crop">üåΩ</div>
        <div class="floating-crop">üçÖ</div>
        <div class="floating-crop">ü•¨</div>
        <div class="floating-crop">ü´õ</div>
    </div>
    <div class="container">
        <div class="text-center mb-4 scroll-animate">
            <h2 class="mb-2" style="color: #2d5016; font-weight: 800;">‚≠ê What Our Customers Say</h2>
            <p class="text-muted">Real Stories from Real People</p>
        </div>
        <div class="row g-4">
            <div class="col-md-4 scroll-animate">
                <div class="testimonial-card">
                    <div class="testimonial-stars">
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                    </div>
                    <p class="fst-italic">"The vegetables are incredibly fresh! You can taste the difference. My family loves the organic tomatoes and leafy greens."</p>
                    <strong>- Priya Sharma, Bangalore</strong>
                </div>
            </div>
            <div class="col-md-4 scroll-animate">
                <div class="testimonial-card">
                    <div class="testimonial-stars">
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                    </div>
                    <p class="fst-italic">"Supporting local farmers while getting the best quality produce. The home-cooked meals are amazing too!"</p>
                    <strong>- Rajesh Kumar, Mysore</strong>
                </div>
            </div>
            <div class="col-md-4 scroll-animate">
                <div class="testimonial-card">
                    <div class="testimonial-stars">
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                        <i class="bi bi-star-fill text-warning"></i>
                    </div>
                    <p class="fst-italic">"Fast delivery, fair prices, and the freshest produce I've ever bought online. Highly recommended!"</p>
                    <strong>- Anita Reddy, Hassan</strong>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats-section crop-bg-section" style="padding: 60px 0;">
    <div class="floating-crops">
        <div class="floating-crop" style="color: rgba(255,255,255,0.15);">üå±</div>
        <div class="floating-crop" style="color: rgba(255,255,255,0.15);">ü•ï</div>
        <div class="floating-crop" style="color: rgba(255,255,255,0.15);">üåΩ</div>
        <div class="floating-crop" style="color: rgba(255,255,255,0.15);">üçÖ</div>
        <div class="floating-crop" style="color: rgba(255,255,255,0.15);">ü•¨</div>
        <div class="floating-crop" style="color: rgba(255,255,255,0.15);">üåæ</div>
    </div>
    <div class="container">
        <div class="text-center mb-4 scroll-animate">
            <h2 class="mb-2" style="color: white; font-weight: 800;">Our Impact</h2>
            <p style="color: rgba(255,255,255,0.9);">Growing Together, One Order at a Time</p>
        </div>
        <div class="row">
            <div class="col-md-3 col-6">
                <div class="stat-item">
                    <div class="stat-number">2500+</div>
                    <div class="stat-label">Happy Families</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-item">
                    <div class="stat-number">150+</div>
                    <div class="stat-label">Organic Farmers</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-item">
                    <div class="stat-number">80+</div>
                    <div class="stat-label">Home Chefs</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-item">
                    <div class="stat-number">5000+</div>
                    <div class="stat-label">Fresh Deliveries</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Join Us Section -->
<section class="py-4 crop-bg-section join-bg" style="background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);">
    <div class="floating-crops">
        <div class="floating-crop">üåª</div>
        <div class="floating-crop">ü•ú</div>
        <div class="floating-crop">üåæ</div>
        <div class="floating-crop">üçá</div>
        <div class="floating-crop">ü•ë</div>
        <div class="floating-crop">üçã</div>
    </div>
    <div class="container">
        <div class="text-center mb-4 scroll-animate">
            <h2 class="mb-2" style="color: #2d5016; font-weight: 800;">Join Our Community</h2>
            <p class="text-muted">Be Part of the Organic Revolution</p>
        </div>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="role-card">
                    <img src="{{ url_for('static', filename='img/customer.png') }}" 
                         class="role-image" alt="Customer">
                    <div class="role-body">
                        <h4>For Customers</h4>
                        <p>Get fresh produce and home-cooked meals delivered to your door</p>
                        {% if session.get('customer_id') %}
                            <a href="{{ url_for('customer_dashboard') }}" class="btn btn-primary w-100">
                                Go to Dashboard
                            </a>
                        {% else %}
                            <a href="{{ url_for('customer_register') }}" class="btn btn-primary w-100">
                                Register as Customer
                            </a>
                        {% endif %}
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="role-card">
                    <img src="{{ url_for('static', filename='img/farmerlogin.png') }}" 
                         class="role-image" alt="Vendor">
                    <div class="role-body">
                        <h4>For Vendors/Sellers</h4>
                        <p>Sell your products directly to customers - vegetables, fruits, dairy, groceries & more</p>
                        {% if current_user.is_authenticated %}
                            <a href="{{ url_for('farmer_dashboard') }}" class="btn btn-success w-100">
                                Go to Dashboard
                            </a>
                        {% else %}
                            <a href="{{ url_for('register') }}" class="btn btn-success w-100">
                                Register as Vendor
                            </a>
                        {% endif %}
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="role-card">
                    <img src="{{ url_for('static', filename='img/employee.png') }}" 
                         class="role-image" alt="Homemaker">
                    <div class="role-body">
                        <h4>For Homemakers</h4>
                        <p>Share your delicious home-cooked meals and earn income</p>
                        {% if session.get('employee_id') %}
                            <a href="{{ url_for('employee_dashboard') }}" class="btn btn-warning w-100">
                                <i class="bi bi-house-heart"></i> Go to Dashboard
                            </a>
                        {% else %}
                            <a href="{{ url_for('employee_register') }}" class="btn btn-warning w-100">
                                <i class="bi bi-person-plus"></i> Register as Homemaker
                            </a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- How It Works -->
<section class="py-4 crop-bg-section how-it-works-bg" style="background: white;">
    <div class="floating-crops">
        <div class="floating-crop">üì¶</div>
        <div class="floating-crop">üöö</div>
        <div class="floating-crop">‚úÖ</div>
        <div class="floating-crop">üõí</div>
        <div class="floating-crop">üåæ</div>
        <div class="floating-crop">üè†</div>
    </div>
    <div class="container">
        <div class="text-center mb-4 scroll-animate">
            <h2 class="mb-2" style="color: #2d5016; font-weight: 800;">üöÄ How It Works</h2>
            <p class="text-muted">Simple Steps to Fresh Organic Goodness</p>
        </div>
        <div class="row g-4">
            <div class="col-md-3 col-6 text-center scroll-animate">
                <div class="how-it-works-step">
                    <div class="how-it-works-icon">
                        <i class="bi bi-person-plus-fill"></i>
                    </div>
                    <h5 class="fw-bold">1. Register</h5>
                    <p class="text-muted">Create your account in minutes</p>
                </div>
            </div>
            <div class="col-md-3 col-6 text-center scroll-animate">
                <div class="how-it-works-step">
                    <div class="how-it-works-icon">
                        <i class="bi bi-search"></i>
                    </div>
                    <h5 class="fw-bold">2. Browse</h5>
                    <p class="text-muted">Explore fresh organic produce</p>
                </div>
            </div>
            <div class="col-md-3 col-6 text-center scroll-animate">
                <div class="how-it-works-step">
                    <div class="how-it-works-icon">
                        <i class="bi bi-cart-check-fill"></i>
                    </div>
                    <h5 class="fw-bold">3. Order</h5>
                    <p class="text-muted">Add to cart and checkout securely</p>
                </div>
            </div>
            <div class="col-md-3 col-6 text-center scroll-animate">
                <div class="how-it-works-step">
                    <div class="how-it-works-icon">
                        <i class="bi bi-truck"></i>
                    </div>
                    <h5 class="fw-bold">4. Enjoy</h5>
                    <p class="text-muted">Fresh delivery within 24 hours</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="py-5" style="background: linear-gradient(135deg, #28a745 0%, #218838 100%);">
    <div class="container text-center text-white">
        <h2 class="mb-4 scroll-animate">Ready to Experience Farm-Fresh Goodness?</h2>
        <p class="lead mb-4 scroll-animate">Join thousands of happy customers enjoying organic produce daily</p>
        {% if not (session.get('customer_id') or session.get('employee_id') or current_user.is_authenticated or session.get('admin_id')) %}
        <div class="scroll-animate">
            <a href="{{ url_for('customer_register') }}" class="btn btn-light btn-custom btn-lg me-3">
                <i class="bi bi-person-plus"></i> Sign Up Now
            </a>
            <a href="{{ url_for('contact') }}" class="btn btn-outline-light btn-custom btn-lg">
                <i class="bi bi-envelope"></i> Contact Us
            </a>
        </div>
        {% endif %}
    </div>
</section>

<script>
// Load Featured Products
document.addEventListener('DOMContentLoaded', function() {
    // Fetch featured products from database
    fetch('/api/featured_products')
        .then(response => response.json())
        .then(data => {
            const container = document.getElementById('featuredProducts');
            if (data.products && data.products.length > 0) {
                let html = '';
                data.products.slice(0, 6).forEach((product, index) => {
                    const discount = product.mrp && product.mrp > product.price_per_kg 
                        ? Math.round(((product.mrp - product.price_per_kg) / product.mrp) * 100) 
                        : 0;
                    const rating = product.average_rating || 5.0;
                    const isLoggedIn = {{ 'true' if session.get('customer_id') else 'false' }};
                    
                    html += `
                        <div class="product-card scroll-animate" style="animation-delay: ${index * 0.1}s">
                            <div class="product-image">
                                <img src="/static/uploads/${product.image}" 
                                     alt="${product.crop_name}"
                                     onerror="this.src='https://images.unsplash.com/photo-1488459716781-31db52582fe9?w=400'">
                                <span class="product-badge">üå± Organic</span>
                                ${discount > 0 ? `<span class="product-badge discount">${discount}% OFF</span>` : ''}
                            </div>
                            <div class="product-info">
                                <span class="product-type">${product.crop_type}</span>
                                <h5 class="product-title">${product.crop_name}</h5>
                                <div class="product-farmer">
                                    <i class="bi bi-person-circle"></i> ${product.farmer_name}
                                </div>
                                <div class="product-rating">
                                    ${'<i class="bi bi-star-fill"></i>'.repeat(Math.floor(rating))}
                                    ${'<i class="bi bi-star"></i>'.repeat(5 - Math.floor(rating))}
                                    <span class="text-muted">(${rating.toFixed(1)})</span>
                                </div>
                                <div class="d-flex align-items-center justify-content-between mb-3">
                                    <div>
                                        <span class="product-price">‚Çπ${product.price_per_kg}</span>
                                        ${product.mrp && product.mrp > product.price_per_kg ? `<span class="product-old-price">‚Çπ${product.mrp}</span>` : ''}
                                        <small class="d-block text-muted">per kg</small>
                                    </div>
                                </div>
                                ${isLoggedIn ? `
                                    <form method="POST" action="/add_to_cart/${product.id}" class="product-actions">
                                        <div class="qty-selector">
                                            <button type="button" onclick="decreaseQty(this)">
                                                <i class="bi bi-dash"></i>
                                            </button>
                                            <input type="number" name="quantity" value="1" min="1" max="${product.quantity}" readonly>
                                            <button type="button" onclick="increaseQty(this)">
                                                <i class="bi bi-plus"></i>
                                            </button>
                                        </div>
                                        <button type="submit" class="btn-add-to-cart">
                                            <i class="bi bi-cart-plus"></i> Add
                                        </button>
                                    </form>
                                ` : `
                                    <a href="/customer_login" class="btn-add-to-cart text-center text-decoration-none d-block">
                                        <i class="bi bi-box-arrow-in-right"></i> Login to Buy
                                    </a>
                                `}
                            </div>
                        </div>
                    `;
                });
                container.innerHTML = html;
            } else {
                container.innerHTML = '<div style="grid-column: 1/-1; text-align: center;"><p class="text-muted">No products available at the moment</p></div>';
            }
        })
        .catch(error => {
            console.error('Error loading products:', error);
            document.getElementById('featuredProducts').innerHTML = 
                '<div style="grid-column: 1/-1; text-align: center;"><p class="text-danger">Error loading products. Please refresh the page.</p></div>';
        });
    
    // Quantity selector functions
    window.increaseQty = function(btn) {
        const input = btn.parentElement.querySelector('input');
        const max = parseInt(input.getAttribute('max'));
        const current = parseInt(input.value);
        if (current < max) {
            input.value = current + 1;
        }
    };
    
    window.decreaseQty = function(btn) {
        const input = btn.parentElement.querySelector('input');
        const current = parseInt(input.value);
        if (current > 1) {
            input.value = current - 1;
        }
    };
    
    // Scroll Animation
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('active');
            }
        });
    }, observerOptions);
    
    document.querySelectorAll('.scroll-animate').forEach(el => {
        observer.observe(el);
    });
    
    // Counter Animation for Stats
    const counters = document.querySelectorAll('.stat-number');
    const speed = 200;
    
    const animateCounter = (counter) => {
        const target = parseInt(counter.innerText.replace(/\D/g, ''));
        const increment = target / speed;
        let current = 0;
        
        const updateCounter = () => {
            current += increment;
            if (current < target) {
                counter.innerText = Math.ceil(current) + '+';
                requestAnimationFrame(updateCounter);
            } else {
                counter.innerText = target + '+';
            }
        };
        
        updateCounter();
    };
    
    const statsObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const counter = entry.target;
                animateCounter(counter);
                statsObserver.unobserve(counter);
            }
        });
    }, { threshold: 0.5 });
    
    counters.forEach(counter => {
        statsObserver.observe(counter);
    });
    
    // Parallax Effect
    window.addEventListener('scroll', function() {
        const scrolled = window.pageYOffset;
        const parallaxElements = document.querySelectorAll('.parallax-bg');
        
        parallaxElements.forEach(element => {
            const speed = 0.5;
            element.style.transform = `translateY(${scrolled * speed}px)`;
        });
    });
    
    // Add hover effect to product cards
    document.querySelectorAll('.product-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-10px) scale(1.02)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
    });
    
    // Add click animation to buttons
    document.querySelectorAll('.btn-custom').forEach(btn => {
        btn.addEventListener('click', function(e) {
            const ripple = document.createElement('span');
            ripple.classList.add('ripple');
            this.appendChild(ripple);
            
            const rect = this.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;
            
            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';
            
            setTimeout(() => ripple.remove(), 600);
        });
    });
    
    // Fade in sections on scroll
    const fadeInObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, { threshold: 0.1 });
    
    document.querySelectorAll('section').forEach(section => {
        section.classList.add('fade-in-section');
        fadeInObserver.observe(section);
    });
});

// Add CSS for ripple effect
const style = document.createElement('style');
style.textContent = `
    .ripple {
        position: absolute;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.6);
        transform: scale(0);
        animation: ripple-animation 0.6s ease-out;
        pointer-events: none;
    }
    
    @keyframes ripple-animation {
        to {
            transform: scale(4);
            opacity: 0;
        }
    }
`;
document.head.appendChild(style);

// Scroll to Top Button
const scrollBtn = document.createElement('button');
scrollBtn.className = 'scroll-to-top';
scrollBtn.innerHTML = '<i class="bi bi-arrow-up"></i>';
scrollBtn.setAttribute('aria-label', 'Scroll to top');
document.body.appendChild(scrollBtn);

window.addEventListener('scroll', () => {
    if (window.pageYOffset > 300) {
        scrollBtn.classList.add('show');
    } else {
        scrollBtn.classList.remove('show');
    }
});

scrollBtn.addEventListener('click', () => {
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
});

// Scroll Animation Observer
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('visible');
        }
    });
}, observerOptions);

document.querySelectorAll('.scroll-animate').forEach(el => {
    observer.observe(el);
});

// Parallax effect for hero
window.addEventListener('scroll', () => {
    const scrolled = window.pageYOffset;
    const parallaxElements = document.querySelectorAll('.carousel-item');
    parallaxElements.forEach(el => {
        el.style.transform = `translateY(${scrolled * 0.5}px)`;
    });
});
</script>
{% endblock %}
